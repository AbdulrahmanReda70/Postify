"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[477],{4477:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var n=r(5043),s=r(4268),a=r(9778),o=r(4458),l=(r(2716),r(3216)),i=r(579);const u=function(){const[e,t]=(0,n.useState)(""),[r,u]=(0,n.useState)(""),[c,d]=(0,n.useState)(null),[h,m]=(0,n.useState)(!1),[p,f]=(0,n.useState)(null),[g,v]=(0,n.useState)(null),x=(0,l.Zp)();return(0,i.jsxs)("div",{children:[(0,i.jsx)(o.A,{is_open:h,setIs_open:m,status:p}),(0,i.jsxs)("div",{className:"container-c",children:[(0,i.jsxs)("label",{className:"flex items-center justify-center w-60 h-14 cursor-pointer border-2 border-dashed border-gray-400 rounded-lg hover:border-blue-500 transition duration-300",children:[(0,i.jsx)("span",{className:"text-white",children:"Upload Image"}),(0,i.jsx)("input",{type:"file",className:"hidden",onChange:e=>{d(e.target.files[0]),v(URL.createObjectURL(e.target.files[0]))}})]}),(0,i.jsx)("button",{onClick:async function(){const t=new FormData;t.append("title",e),t.append("body",r),c&&t.append("image",c);let n=await a.A.post("posts",t);n.error?f({error:!0,message:n.message}):(f({error:!1,message:n.data.message}),x("/posts/history")),m(!0)},className:"bg-green flex ml-auto mb-5",children:"Publish"}),(0,i.jsx)("div",{children:(0,i.jsx)(s.A,{value:e,onChange:e=>t(e.target.value),placeholder:"Title",className:"w-[600px] h-[100px] text-4xl mb-[30px] pb-[20px] "})}),(0,i.jsx)("div",{className:"flex justify-center mb-8",children:g&&(0,i.jsx)("img",{className:"h-[500px] w-[100%] rounded object-cover",src:g,alt:"img"})}),(0,i.jsx)("div",{children:(0,i.jsx)(s.A,{value:r,onChange:e=>u(e.target.value),placeholder:"Tell Your Story",className:"w-[600px] mb-80 text-2xl"})})]})]})}},4268:(e,t,r)=>{r.d(t,{A:()=>m});var n=r(9379),s=r(45),a=r(5043),o=r(3462),l=r(3940),i=r(4440);var u=r(579);const c=["onChange","maxRows","minRows","style","value"];function d(e){return parseInt(e,10)||0}const h={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const m=a.forwardRef((function(e,t){const{onChange:r,maxRows:m,minRows:p=1,style:f,value:g}=e,v=(0,s.A)(e,c),{current:x}=a.useRef(null!=g),b=a.useRef(null),w=(0,o.A)(t,b),y=a.useRef(null),A=a.useRef(null),j=a.useCallback((()=>{const t=b.current,r=A.current;if(!t||!r)return;const n=(0,l.A)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const s=n.boxSizing,a=d(n.paddingBottom)+d(n.paddingTop),o=d(n.borderBottomWidth)+d(n.borderTopWidth),i=r.scrollHeight;r.value="x";const u=r.scrollHeight;let c=i;p&&(c=Math.max(Number(p)*u,c)),m&&(c=Math.min(Number(m)*u,c)),c=Math.max(c,u);return{outerHeightStyle:c+("border-box"===s?a+o:0),overflowing:Math.abs(c-i)<=1}}),[m,p,e.placeholder]),R=a.useCallback((()=>{const e=b.current,t=j();if(!e||!t||(function(e){for(const t in e)return!1;return!0}(r=t)||0===r.outerHeightStyle&&!r.overflowing))return;var r;const n=t.outerHeightStyle;y.current!==n&&(y.current=n,e.style.height="".concat(n,"px")),e.style.overflow=t.overflowing?"hidden":""}),[j]),N=a.useRef(-1);(0,i.A)((()=>{const e=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];clearTimeout(t),t=setTimeout((()=>{e.apply(this,s)}),r)}return n.clear=()=>{clearTimeout(t)},n}((()=>R())),t=null===b||void 0===b?void 0:b.current;if(!t)return;const r=(0,l.A)(t);let n;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(n=new ResizeObserver((()=>{n.unobserve(t),cancelAnimationFrame(N.current),R(),N.current=requestAnimationFrame((()=>{n.observe(t)}))})),n.observe(t)),()=>{e.clear(),cancelAnimationFrame(N.current),r.removeEventListener("resize",e),n&&n.disconnect()}}),[j,R]),(0,i.A)((()=>{R()}));return(0,u.jsxs)(a.Fragment,{children:[(0,u.jsx)("textarea",(0,n.A)({value:g,onChange:e=>{x||R(),r&&r(e)},ref:w,rows:p,style:f},v)),(0,u.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:A,tabIndex:-1,style:(0,n.A)((0,n.A)((0,n.A)({},h),f),{},{paddingTop:0,paddingBottom:0})})]})}))},3940:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(1668);function s(e){return(0,n.A)(e).defaultView||window}}}]);
//# sourceMappingURL=477.ea810638.chunk.js.map