{"version":3,"file":"static/js/956.049aa39b.chunk.js","mappings":"6MAyGA,QAlGA,WACE,MAAQA,GAAIC,IAAYC,EAAAA,EAAAA,MACjBC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,OAC1BC,EAAMC,IAAWF,EAAAA,EAAAA,WAAS,IAC1BG,EAAYC,IAAiBJ,EAAAA,EAAAA,UAAS,MAkC7C,OAhCAK,EAAAA,EAAAA,YAAU,MACRC,iBACE,IACE,MAAMC,QAAYC,EAAAA,EAAIC,IAAI,SAADC,OAAUd,IACnCG,EAAQQ,EAAII,KAAKb,MACjBM,EAAcG,EAAII,KAAKb,KAAKc,aAC5BV,EAAQK,EAAII,KAAKb,KAAKe,MACxB,CAAE,MAAOC,GACPC,QAAQD,MAAM,uBAAwBA,EACxC,CACF,CACAE,EAAS,GACR,CAACpB,IAoBCE,GAaHmB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,OAAAD,UACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAgB,CACfC,MAAW,OAAJxB,QAAI,IAAJA,OAAI,EAAJA,EAAMyB,MACbC,UAAQ,EACRC,YAAY,QACZP,UAAU,8CACVQ,MAAO,CAAEC,aAAc,wBAG3BP,EAAAA,EAAAA,KAAA,OAAKF,UAAU,2BAA0BC,UACvCC,EAAAA,EAAAA,KAAA,OACEF,UAAU,0CACVU,IAAS,OAAJ9B,QAAI,IAAJA,OAAI,EAAJA,EAAM+B,UACXC,IAAI,WAGRV,EAAAA,EAAAA,KAAA,OAAAD,UACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAgB,CACfG,UAAQ,EACRF,MAAW,OAAJxB,QAAI,IAAJA,OAAI,EAAJA,EAAMiC,KACbN,YAAY,kBACZP,UAAU,0BAIdD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BC,SAAA,EAC1CC,EAAAA,EAAAA,KAACY,EAAAA,EAAOC,IAAG,CACTf,UAAU,sBACVgB,QA5DR5B,iBACE,MAAM6B,EAASrC,EAAKH,GACpBO,GAASkC,IAAUA,IAEnB,WACkB5B,EAAAA,EAAIV,KAAK,SAADY,OAAUyB,EAAM,WAC/BxB,KAAKE,OAIZX,GAAQ,GACRE,GAAegC,GAASA,EAAO,MAJ/BlC,GAAQ,GACRE,GAAegC,GAASC,KAAKC,IAAIF,EAAO,EAAG,KAK/C,CAAE,MAAOtB,GACPC,QAAQwB,IAAI,SAAUzB,EACxB,CACF,EA6CQ0B,SAAU,CAAEC,MAAO,KACnBC,QAAS,CAAEC,MAAO1C,EAAO,UAAY,QACrC2C,WAAY,CAAEC,SAAU,IAAM1B,SAE7BlB,GACCmB,EAAAA,EAAAA,KAAC0B,EAAAA,IAAe,CAACC,SAAU,UAE3B3B,EAAAA,EAAAA,KAAC4B,EAAAA,IAAe,CAACD,SAAU,YAI/B3B,EAAAA,EAAAA,KAAA,OAAAD,SAAMhB,WApDRc,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BC,EAAAA,EAAAA,KAAC6B,EAAAA,EAAQ,CACPC,QAAQ,cACRxB,MAAO,CAAEyB,OAAQ,OAAQC,aAAc,WAEzChC,EAAAA,EAAAA,KAAC6B,EAAAA,EAAQ,CAACC,QAAQ,cAAcxB,MAAO,CAAEyB,OAAQ,aAmDzD,C","sources":["post/PostView.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { TextareaAutosize } from \"@mui/material\";\nimport { RiHeartAdd2Line, RiHeartAdd2Fill } from \"react-icons/ri\";\nimport { motion } from \"framer-motion\";\nimport Skeleton from \"@mui/material/Skeleton\";\nimport api from \"../api/axios\";\nfunction PostView() {\n  const { id: post_id } = useParams();\n  const [post, setPost] = useState(null);\n  const [like, setLike] = useState(false);\n  const [likesCount, setLikesCount] = useState(null);\n\n  useEffect(() => {\n    async function getPost() {\n      try {\n        const res = await api.get(`posts/${post_id}`);\n        setPost(res.data.post);\n        setLikesCount(res.data.post.likes_count);\n        setLike(res.data.post.liked);\n      } catch (error) {\n        console.error(\"Error fetching post:\", error);\n      }\n    }\n    getPost();\n  }, [post_id]);\n\n  async function handlePostLike() {\n    const postId = post.id;\n    setLike((prev) => !prev);\n\n    try {\n      let res = await api.post(`posts/${postId}/like`);\n      if (!res.data.liked) {\n        setLike(false);\n        setLikesCount((prev) => Math.max(prev - 1, 0));\n      } else {\n        setLike(true);\n        setLikesCount((prev) => prev + 1);\n      }\n    } catch (error) {\n      console.log(\"Error:\", error);\n    }\n  }\n\n  if (!post) {\n    return (\n      <div className='container-c'>\n        <Skeleton\n          variant='rectangular'\n          style={{ height: \"50px\", marginBottom: \"50px\" }}\n        />\n        <Skeleton variant='rectangular' style={{ height: \"300px\" }} />\n      </div>\n    );\n  }\n\n  return (\n    <div className='container-c'>\n      <div>\n        <TextareaAutosize\n          value={post?.title}\n          disabled\n          placeholder='Title'\n          className='h-[100px] text-4xl mt-6 mb-[30px] pb-[20px]'\n          style={{ borderBottom: \"solid white 1px\" }}\n        />\n      </div>\n      <div className='flex justify-center mb-8'>\n        <img\n          className='h-[500px] w-[100%] rounded object-cover'\n          src={post?.image_url}\n          alt='img'\n        />\n      </div>\n      <div>\n        <TextareaAutosize\n          disabled\n          value={post?.body}\n          placeholder='Tell Your Story'\n          className='w-[600px] text-2xl'\n        />\n      </div>\n\n      <div className='flex gap-x-1 mt-5 items-end'>\n        <motion.div\n          className='cursor-pointer flex'\n          onClick={handlePostLike}\n          whileTap={{ scale: 1.2 }}\n          animate={{ color: like ? \"#ff2e63\" : \"#ccc\" }}\n          transition={{ duration: 0.2 }}\n        >\n          {like ? (\n            <RiHeartAdd2Fill fontSize={\"28px\"} />\n          ) : (\n            <RiHeartAdd2Line fontSize={\"28px\"} />\n          )}\n        </motion.div>\n\n        <div>{likesCount}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default PostView;\n"],"names":["id","post_id","useParams","post","setPost","useState","like","setLike","likesCount","setLikesCount","useEffect","async","res","api","get","concat","data","likes_count","liked","error","console","getPost","_jsxs","className","children","_jsx","TextareaAutosize","value","title","disabled","placeholder","style","borderBottom","src","image_url","alt","body","motion","div","onClick","postId","prev","Math","max","log","whileTap","scale","animate","color","transition","duration","RiHeartAdd2Fill","fontSize","RiHeartAdd2Line","Skeleton","variant","height","marginBottom"],"sourceRoot":""}